{% extends "b2note_app/__base.html" %}

{% block content %}

    {% if subject_tofeed|length = 0 %}

    <script>hide_iframe();</script>

    {% else %}

    <script>show_iframe();</script>

    {% endif %}

    <div class="container" id="section_create" border="2px; solid black">

        <div class="container" id="user_area">

            <!-- http://stackoverflow.com/questions/18036315/centering-bootstrap-input-fields -->
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#semantic">Semantic tag</a></li>
                <li><a data-toggle="tab" href="#keyword">Free-text keyword</a></li>
                <li><a data-toggle="tab" href="#comment">Comment</a></li>
            </ul>
            <div class="tab-content">
                <div id="semantic" class="tab-pane fade in active form-group">
                    {% csrf_token %}
                    <input type="text" class="form-control" name="q" id="id_q" value="{{ query }}"  placeholder="Type-in and select one." autocomplete="off" spellcheck="false" dir="auto" autofocus/>
                    <input type="submit" id="semantic_submit" value="Create" title="Create an annotation using my selected tag."/>
                </div>
                <div id="keyword" class="tab-pane fade form-group">
                    <div class="input-group">
                        <input type="text" class="form-control custom-control" id="keyword_input" placeholder="Type-in your free-text keyword."/>
                        <span class="input-group-addon btn btn-primary" title="Create an annotation using my free-text keyword." onClick="get_free_text()">Create</span>
                    </div>
                </div>
                <div id="comment" class="tab-pane fade form-group">
                    <div class="input-group">
                        {% csrf_token %}
                        <textarea class="form-control custom-control" rows="2" id="comment_input" placeholder="Type-in your comment."></textarea>
                        <span class="input-group-addon btn btn-primary" title="Create an annotation using my comment." onClick="get_free_text()">Create</span>
                    </div>
                </div>
            </div>

            <hr>

            <div>
                <a class="btn btn-link" data-toggle="collapse" href="#myannotation_collapse">
                    <i class="glyphicon glyphicon-triangle-right"></i>
                </a>
                <h5><a href="/myannotations">My annotations</a></h5>
                <div id="myannotation_collapse" class="panel-collapse collapse">

                    <div class = "row">
                        {% if my_s != None %}
                        <a href="/myannotations#semantic" title="Click for full list.">Semantic tag</a>
                        <a href="/myannotations#semantic" title="Click for full list."> {{my_s}} </a>
                        {% endif %}
                    </div>

                    <div class = "row">
                        {% if my_k != None %}
                        <a href="/myannotations#keyword" title="Click for full list.">Free-text keyword</a>
                        <a href="/myannotations#keyword" title="Click for full list."> {{my_k}} </a>
                        {% endif %}
                    </div>

                    <div class = "row">
                        {% if my_c != None %}
                        <a href="/myannotations#comment" title="Click for full list.">Comment</a>
                        <a href="/myannotations#comment" title="Click for full list."> {{my_c}} </a>
                        {% endif %}
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="container" id="pulledarea">
        <a class="btn btn-link" data-toggle="collapse" href="#allannotations_collapse">
            <i class="glyphicon glyphicon-triangle-right"></i>
        </a>
        <h5><a href="/allannotations">All annotations</a></h5>
        <div id="allannotations_collapse" class="panel-collapse collapse">

            <div class = "row">
                <a href="/allannotations#semantic">Semantic tag</a>
                {% if all_s != None %}
                <a href="/allannotations#semantic" title="All semantic annotations, click for full list."> {{all_s}} </a>
                {% endif %}
                {% if my_s != None %}
                <a href="/myannotations#semantic" title="Only my semantic annotations, click for full list."> {{my_s}} </a>
                {% endif %}
            </div>

            <div class = "row">
                <a href="/allannotations#keyword">Free-text keyword</a>
                {% if all_k != None %}
                <a href="/allannotations#keyword" title="All keyword annotations, click for full list."> {{all_k}} </a>
                {% endif %}
                {% if my_k != None %}
                <a href="/myannotations#keyword" title="Only my keyword annotations, click for full list."> {{my_k}} </a>
                {% endif %}
            </div>

            <div class = "row">
                <a href="/allannotations#comment">Comment</a>
                {% if all_c != None %}
                <a href="/allannotations#comment" title="All comment annotations, click for full list."> {{all_c}} </a>
                {% endif %}
                {% if my_c != None %}
                <a href="/myannotations#comment" title="Only my comment annotations, click for full list."> {{my_c}} </a>
                {% endif %}
            </div>

        </div>
    </div>

    <br>
    <br>
    <br>
    <br>

{% endblock %}
